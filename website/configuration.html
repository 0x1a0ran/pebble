<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Pebble</title>
    <link rel="stylesheet" href="screen.css" type="text/css" media="screen" />
  </head>

  <body>

    <div id="body">

      <div id="header">
        <div id="blogName"><span>Pebble</span></div>
        <div id="blogDescription"><span>A lightweight, open source, Java EE blogging tool</span></div>
      </div>

      <div id="linearNavigation">
        <a href="http://sourceforge.net/projects/pebble/">SourceForge.net project page</a> |
        <a href="index.html">Home</a> |
        <a href="http://lists.sourceforge.net/mailman/listinfo/pebble-user/">pebble-user mailing list</a> |
        <a href="https://open.jira.com/browse/PEBBLE">Issues on open.jira.com</a>
      </div>

      <div id="sidebar">
      </div>

      <div id="content">

        <div class="contentItem published">
          <h1>Configuration</h1>
          <h2>What do I need to configure?</h2>

          <div class="contentItemBody">
            <p>
            There are several pieces of information that you may want to configure with Pebble, all of which are specified in the <code>/WEB-INF/pebble.properties</code> file.
            </p>

            <ul>
              <li>Data directory (dataDirectory) : the location where your Pebble data is stored. The default is <code>${user.home}/pebble</code>, and this directory is created automatically if it doesn't exist. If running as a secure user under *nix, the value of <code>${user.home}</code> may point to <code>/dev/null</code> so be sure to check and change the data directory property as appropriate.</li>
              <li>URL (url) : the URL (starting http:// or https://) where your blog is hosted. The default value is blank, which means "auto-discover at runtime".</li>
              <li>Secure URL (secureUrl) : the secure URL (starting https://), which should only be set if you intend to use secure login.</li>
              <li>Multi-blog (multiBlog) : a flag to indicate whether Pebble is running in multi-blog mode, default is false.</li>
              <li>SMTP host (smtpHost) : the name/IP address of the server through which e-mail is sent, or a JNDI name starting <code>java:/comp/env</code> pointing to a preconfigured javax.mail.Session instance. The default is <code>java:comp/env/mail/Session</code>.</li>
              <li>Maximum file upload size (fileUploadSize) : the maximum file upload size in KB.</li>
              <li>User themes enabled (userThemesEnabled) : a flag to indicate whether user themes are enabled, default is true. Set this value to <code>false</code> to ensure all blogs in a multi-blog installation use the default theme and look consistent.</li>
            </ul>

            <h3>E-mail notifications</h3>
            <p>
            To enable e-mal notifications using a JNDI based mail session, you'll need to follow these steps.
            </p>
            <ol>
              <li>Uncomment the JavaMail resource reference at the bottom of the Pebble <code>web.xml</code> file.</li>
              <li>Ensure the JavaMail libraries are installed into your web/application server.</li>
              <li>Configure the JavaMail session in your web/application server.</li>
            </ol>

            <p>
              See <a href="installation.html">Installation</a> for instructions related to specific web/application servers.
            </p>

            <h3>Logging</h3>
            <p>
              Out-of-the-box, Pebble uses log4j (via Jakarta Commons logging) and logs everything from INFO and above to a file called
              <code>pebble.log</code> in the directory where the web/application server is started from. To alter this, open the
              <code>WEB-INF/classes/log4j.properties</code> file and edit as appropriate.
            </p>

          </div>
        </div>

      </div>

      <div id="footer">
        Pebble is written and maintained by <a href="http://www.simongbrown.com/blog/">Simon Brown</a>
      </div>

    </div>
  </body>
</html>
